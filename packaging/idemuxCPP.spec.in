# idemuxCPP.spec

%{!?_pkgdocdir: %global _pkgdocdir %%{_docdir}/%{name}}

Name:           idemuxCPP
Version:        @PACKAGE_VERSION@
Release:        1%{?dist}
Summary:        Demultiplex RNA-seq reads from fastq.gz files into separate files according to their indices.

Vendor:         Gregor Entzian <entzian@tbi.univie.ac.at>
#Packager:       Gregor Entzian <entzian@tbi.univie.ac.at>

Group:          -
License:        GPLv2
URL:            https://github.com/idemuxCPP
Source0:        idemuxCPP_%{version}.tar.gz
BuildRoot:      %(mktemp -ud %{_tmppath}/%{name}-%{version}-%{release}-XXXXXX)

BuildRequires:  autoconf
BuildRequires:  automake
BuildRequires:  rpm-devel

BuildRequires:  libstdc++-devel gcc gcc-c++ gengetopt
%if 0%{?suse_version}
BuildRequires:  viennarna-devel
%else
BuildRequires:  viennarna-devel (>=2.4.11)
%endif


%description
Demultiplex RNA-seq reads from fastq.gz files into separate files according to their indices.

Requires: libstdc++

%prep
%setup -n idemuxCPP-%{version} -q

%build
%configure --prefix=%{_prefix} --docdir=%{_pkgdocdir} --mandir=%{_mandir}
make

%install
rm -rf $RPM_BUILD_ROOT

%{__make} install DESTDIR=$RPM_BUILD_ROOT

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root,-)
%{_bindir}/*
%{_datadir}/idemuxCPP/
%doc README.md
%{_mandir}/*/*
